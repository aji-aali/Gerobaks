  // Update user's saved addresses
  Future<UserModel> updateSavedAddresses(List<String> addresses) async {
    final user = await _localStorage.getUser();

    if (user == null) {
      throw Exception('User not logged in');
    }

    final updatedUser = user.copyWith(
      savedAddresses: addresses,
    );

    await _localStorage.saveUser(updatedUser);
    _notifyUserChange(updatedUser);
    return updatedUser;
  }
